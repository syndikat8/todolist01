(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(8),r=a.n(i),c=(a(80),a(14)),s=a(37),l=a(16),d=a(15),u=a(17),p=(a(50),a(132)),f=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.onShowFiltersClick=function(){a.setState({isHidden:!1})},a.onHideFiltersClick=function(){a.setState({isHidden:!0})},a.render=function(){return o.a.createElement("div",{style:{paddingTop:"15px"}},!a.state.isHidden&&o.a.createElement("div",null,o.a.createElement(p.a,{variant:"All"===a.props.filterValue?"contained":"text",onClick:a.onAllFilterClick},"all"),o.a.createElement(p.a,{variant:"Completed"===a.props.filterValue?"contained":"text",color:"primary",onClick:a.onCompletedFilterClick},"Completed"),o.a.createElement(p.a,{variant:"Active"===a.props.filterValue?"contained":"text",color:"secondary",onClick:a.onActiveFilterClick},"Active")),o.a.createElement("div",{style:{paddingTop:"10px"}},!a.state.isHidden&&o.a.createElement(p.a,{className:"hide",onClick:a.onHideFiltersClick},"hide"),a.state.isHidden&&o.a.createElement(p.a,{className:"show",onClick:a.onShowFiltersClick},"show")))},a}return Object(u.a)(e,t),e}(o.a.Component),T=a(143),h=a(136),m=a(137),k=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;""===t?a.setState({error:!0}):(a.setState({error:!1,title:""}),a.props.addItem(t))},a.onTitleChanged=function(t){a.setState({error:!1,title:t.currentTarget.value})},a.onKeyPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a.render=function(){return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement(T.a,{error:!!a.state.error,helperText:a.state.error?"Title is required":"",variant:"outlined",label:"Type value",onChange:a.onTitleChanged,onKeyPress:a.onKeyPress,value:a.state.title}),o.a.createElement(h.a,{color:"primary",onClick:a.onAddItemClick},o.a.createElement(m.a,{style:{height:"35px",width:"35px"}})))},a}return Object(u.a)(e,t),e}(o.a.Component),E=a(138),g=a(106),b=a(144),O=a(139),v=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editeMode:!1},a.activateEditMode=function(){a.setState({editeMode:!0})},a.deActivateEditMode=function(t){a.props.changeTitle(a.props.task,t.currentTarget.value),a.setState({editeMode:!1})},a.onIsDoneChanged=function(t){a.props.changeStatus(a.props.task,t.currentTarget.checked?2:0)},a.onDeliteTask=function(){a.props.deliteTask(a.props.task.id)},a.render=function(){var t=2===a.props.task.status;return o.a.createElement(E.a,{fixed:!0},o.a.createElement(g.a,{elevation:10,style:{margin:"10px",background:"#c1ff7a"}},o.a.createElement("div",null,o.a.createElement(b.a,{color:"primary",checked:t,onChange:a.onIsDoneChanged}),a.state.editeMode?o.a.createElement(T.a,{defaultValue:a.props.task.title,autoFocus:!0,onBlur:a.deActivateEditMode}):o.a.createElement("span",{onClick:a.activateEditMode}," ",a.props.task.title),o.a.createElement(h.a,{color:"secondary",onClick:a.onDeliteTask},o.a.createElement(O.a,null)))))},a}return Object(u.a)(e,t),e}(o.a.Component),j=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=a.props.tasks.map(function(t){return o.a.createElement(v,{key:t.id,deliteTask:a.props.deliteTask,changeTitle:a.props.changeTitle,changeStatus:a.props.changeStatus,task:t})});return o.a.createElement("div",{className:"todoList-tasks"},t)},a}return Object(u.a)(e,t),e}(o.a.Component),C=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editeMode:!1,title:a.props.title},a.onTitleChange=function(t){a.setState({title:t.currentTarget.value})},a.activateEditMode=function(){a.setState({editeMode:!0})},a.deActivateEditMode=function(){a.props.changeTodolistTitle(a.state.title),a.setState({editeMode:!1})},a.render=function(){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.state.editeMode?o.a.createElement(T.a,{value:a.state.title,type:"text",autoFocus:!0,onChange:a.onTitleChange,onBlur:a.deActivateEditMode}):o.a.createElement("h3",{onClick:a.activateEditMode},a.state.title),o.a.createElement(h.a,{color:"secondary",onClick:a.props.deleteTodolist},o.a.createElement(O.a,null)))},a}return Object(u.a)(e,t),e}(o.a.Component),y=a(29),S=a(42),A=a(10),w=a(64),I=a.n(w).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists/",withCredentials:!0,headers:{"API-KEY":"a4868654-1346-4601-9c9f-2bf29679e35a"}}),D={createTodolist:function(t){return I.post("",{title:t})},getTodolist:function(){return I.get("")},deleteTodo:function(t){return I.delete("".concat(t))},updateTodolistTitle:function(t,e){return I.put("".concat(t),{title:e})},getTasks:function(t){return I.get("".concat(t,"/tasks"))},deleteTask:function(t,e){return I.delete("".concat(t,"/tasks/").concat(e))},createTask:function(t,e){return I.post("".concat(t,"/tasks"),{title:e})},changeStatus:function(t,e,a){var n=Object(A.a)({},e,{status:a});return I.put("".concat(t,"/tasks/").concat(e.id),n)},changeTitle:function(t,e,a){var n=Object(A.a)({},e,{title:a});return I.put("".concat(t,"/tasks/").concat(e.id),n)}},L="todolist/reducer/ADD_TASK",F={todolists:[]},x=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"todolist/reducer/SET_TODOLIST":return Object(A.a)({},e,{todolists:a.todolists.map(function(t){return Object(A.a)({},t,{tasks:[]})})});case"todolist/reducer/SET_TASKS":return Object(A.a)({},e,{todolists:e.todolists.map(function(t){return t.id!==a.todolistId?t:Object(A.a)({},t,{tasks:a.tasks})})});case"todolist/reducer/ADD_TODOLIST":return Object(A.a)({},e,{todolists:[Object(A.a)({},a.newTodolist,{tasks:[]})].concat(Object(S.a)(e.todolists))});case L:return Object(A.a)({},e,{todolists:e.todolists.map(function(t){return t.id===a.todolistId?Object(A.a)({},t,{tasks:[].concat(Object(S.a)(t.tasks),[a.newTask])}):t})});case"todolist/reducer/CHANGE_TODOLIST_TITLE":return Object(A.a)({},e,{todolists:e.todolists.map(function(t){return t.id===a.todolistId?Object(A.a)({},t,{title:a.newTitle,tasks:[]}):t})});case"todolist/reducer/CHANGE_TASK":return t=e.todolists.map(function(t){return t.id!==a.todolistId?t:Object(A.a)({},t,{tasks:Object(S.a)(t.tasks.map(function(t){return t.id!==a.taskId?t:Object(A.a)({},t,{},a.obj)}))})}),Object(A.a)({},e,{todolists:t});case"todolist/reducer/DELETE_TODOLIST":return Object(A.a)({},e,{todolists:e.todolists.filter(function(t){return t.id!==a.todolistId})});case"todolist/reducer/DELETE_TASK":return Object(A.a)({},e,{todolists:e.todolists.map(function(t){return t.id!==a.todolistId?t:Object(A.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==a.taskId})})})})}return e},M=function(t,e,a){return{type:"todolist/reducer/CHANGE_TASK",todolistId:t,taskId:e,obj:a}},_=a(140),H=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={filterValue:"All"},a.addTsk=function(t){a.props.addTsk(t,a.props.id)},a.changeFilter=function(t){a.setState({filterValue:t})},a.changeStatus=function(t,e){a.props.changeStatus(a.props.id,t,e)},a.changeTitle=function(t,e){a.props.changeTitle(a.props.id,t,e)},a.deliteTask=function(t){a.props.deletaTask(a.props.id,t)},a.deleteTodolist=function(){a.props.deleteTodo(a.props.id)},a.changeTodolistTitle=function(t){a.props.updateTodolistTitle(a.props.id,t)},a.render=function(){var t=a.props.tasks,e=void 0===t?[]:t;return o.a.createElement(_.a,{item:!0},o.a.createElement(g.a,{elevation:10,style:{padding:"13px",background:"#aeea00"}},o.a.createElement("div",{className:"todoList"},o.a.createElement(C,{changeTodolistTitle:a.changeTodolistTitle,deleteTodolist:a.deleteTodolist,title:a.props.title}),o.a.createElement(k,{addItem:a.addTsk}),o.a.createElement(j,{deliteTask:a.deliteTask,changeTitle:a.changeTitle,changeStatus:a.changeStatus,tasks:e.filter(function(t){switch(a.state.filterValue){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 2!==t.status}})}),o.a.createElement(f,{filterValue:a.state.filterValue,changeFilter:a.changeFilter}))))},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.getTasks(this.props.id)}}]),e}(o.a.Component),K=Object(y.b)(null,{deleteTodo:function(t){return function(e){D.deleteTodo(t).then(function(a){0===a.data.resultCode&&e(function(t){return{type:"todolist/reducer/DELETE_TODOLIST",todolistId:t}}(t))})}},updateTodolistTitle:function(t,e){return function(a){D.updateTodolistTitle(t,e).then(function(n){0===n.data.resultCode&&a(function(t,e){return{type:"todolist/reducer/CHANGE_TODOLIST_TITLE",newTitle:e,todolistId:t}}(e,t))})}},getTasks:function(t){return function(e){D.getTasks(t).then(function(a){e({type:"todolist/reducer/SET_TASKS",tasks:a.data.items,todolistId:t})})}},addTsk:function(t,e){return function(a){D.createTask(e,t).then(function(t){var n;0===t.data.resultCode&&a((n=t.data.data.item,{type:L,newTask:n,todolistId:e}))})}},changeStatus:function(t,e,a){return function(n){D.changeStatus(t,e,a).then(function(o){0===o.data.resultCode&&n(M(t,e.id,{status:a}))})}},changeTitle:function(t,e,a){return function(n){D.changeTitle(t,e,a).then(function(o){0===o.data.resultCode&&n(M(t,e.id,{title:a}))})}},deletaTask:function(t,e){return function(a){D.deleteTask(t,e).then(function(n){0===n.data.resultCode&&a(function(t,e){return{type:"todolist/reducer/DELETE_TASK",taskId:t,todolistId:e}}(e,t))})}}})(H),N=a(141),V=a(142),B=a(65),G=a.n(B),P=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).restoreState=function(){a.props.getTodolist()},a.addTodoList=function(t){a.props.addTodolist(t)},a.render=function(){var t=a.props.todolists.map(function(t){return o.a.createElement(K,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})});return o.a.createElement("div",{className:"App"},o.a.createElement(N.a,{position:"static"},o.a.createElement(V.a,{style:{display:"flex",justifyContent:"space-between",background:"#1a746b"}},o.a.createElement(h.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(G.a,null)),o.a.createElement(p.a,{color:"inherit"},"Login"))),o.a.createElement(E.a,{fixed:!0},o.a.createElement(_.a,{container:!0,style:{padding:"20px 0"}},o.a.createElement(g.a,{elevation:5,style:{padding:"10px",background:"#d3ebd3"}},o.a.createElement(k,{addItem:a.addTodoList}))),o.a.createElement(_.a,{container:!0,spacing:4},t)))},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),J=Object(y.b)(function(t){return{todolists:t.todolist.todolists}},{addTodolist:function(t){return function(e){D.createTodolist(t).then(function(t){0===t.data.resultCode&&e({type:"todolist/reducer/ADD_TODOLIST",newTodolist:t.data.data.item})})}},getTodolist:function(){return function(t){D.getTodolist().then(function(e){t({type:"todolist/reducer/SET_TODOLIST",todolists:e.data})})}}})(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(33),q=a(66),R=Object(W.c)({todolist:x}),U=Object(W.d)(R,Object(W.a)(q.a));r.a.render(o.a.createElement(y.a,{store:U},o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},50:function(t,e,a){},75:function(t,e,a){t.exports=a(105)},80:function(t,e,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.f47ad356.chunk.js.map