(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(9),i=a.n(r),c=(a(83),a(13)),s=a(34),l=a(15),d=a(14),u=(a(52),a(137)),p=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onShowFiltersClick=function(){t.setState({isHidden:!1})},t.onHideFiltersClick=function(){t.setState({isHidden:!0})},t.render=function(){return o.a.createElement("div",{style:{paddingTop:"15px"}},!t.state.isHidden&&o.a.createElement("div",null,o.a.createElement(u.a,{variant:"All"===t.props.filterValue?"contained":"text",onClick:t.onAllFilterClick},"all"),o.a.createElement(u.a,{variant:"Completed"===t.props.filterValue?"contained":"text",color:"primary",onClick:t.onCompletedFilterClick},"Completed"),o.a.createElement(u.a,{variant:"Active"===t.props.filterValue?"contained":"text",color:"secondary",onClick:t.onActiveFilterClick},"Active")),o.a.createElement("div",{style:{paddingTop:"10px"}},!t.state.isHidden&&o.a.createElement(u.a,{className:"hide",onClick:t.onHideFiltersClick},"hide"),t.state.isHidden&&o.a.createElement(u.a,{className:"show",onClick:t.onShowFiltersClick},"show")))},t}return a}(o.a.Component),f=a(148),T=a(141),m=a(142),h=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={error:!1,title:""},t.onAddItemClick=function(){var e=t.state.title;""===e?t.setState({error:!0}):(t.setState({error:!1,title:""}),t.props.addItem(e))},t.onTitleChanged=function(e){t.setState({error:!1,title:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t.render=function(){return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement(f.a,{error:!!t.state.error,helperText:t.state.error?"Title is required":"",variant:"outlined",label:"Type value",onChange:t.onTitleChanged,onKeyPress:t.onKeyPress,value:t.state.title}),o.a.createElement(T.a,{color:"primary",onClick:t.onAddItemClick},o.a.createElement(m.a,{style:{height:"35px",width:"35px"}})))},t}return a}(o.a.Component),k=a(143),b=a(109),O=a(149),E=a(144),g=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editeMode:!1},t.activateEditMode=function(){t.setState({editeMode:!0})},t.deActivateEditMode=function(e){t.props.changeTitle(t.props.task,e.currentTarget.value),t.setState({editeMode:!1})},t.onIsDoneChanged=function(e){t.props.changeStatus(t.props.task,e.currentTarget.checked?2:0)},t.onDeliteTask=function(){t.props.deliteTask(t.props.task.id)},t.render=function(){var e=2===t.props.task.status;return o.a.createElement(k.a,{fixed:!0},o.a.createElement(b.a,{elevation:10,style:{margin:"10px",background:"#c1ff7a"}},o.a.createElement("div",null,o.a.createElement(O.a,{color:"primary",checked:e,onChange:t.onIsDoneChanged}),t.state.editeMode?o.a.createElement(f.a,{defaultValue:t.props.task.title,autoFocus:!0,onBlur:t.deActivateEditMode}):o.a.createElement("span",{onClick:t.activateEditMode}," ",t.props.task.title),o.a.createElement(T.a,{color:"secondary",onClick:t.onDeliteTask},o.a.createElement(E.a,null)))))},t}return a}(o.a.Component),v=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).render=function(){var e=t.props.tasks.map(function(e){return o.a.createElement(g,{key:e.id,deliteTask:t.props.deliteTask,changeTitle:t.props.changeTitle,changeStatus:t.props.changeStatus,task:e})});return o.a.createElement("div",{className:"todoList-tasks"},e)},t}return a}(o.a.Component),j=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editeMode:!1,title:t.props.title},t.onTitleChange=function(e){t.setState({title:e.currentTarget.value})},t.activateEditMode=function(){t.setState({editeMode:!0})},t.deActivateEditMode=function(){t.props.changeTodolistTitle(t.state.title),t.setState({editeMode:!1})},t.render=function(){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t.state.editeMode?o.a.createElement(f.a,{value:t.state.title,type:"text",autoFocus:!0,onChange:t.onTitleChange,onBlur:t.deActivateEditMode}):o.a.createElement("h3",{onClick:t.activateEditMode},t.state.title),o.a.createElement(T.a,{color:"secondary",onClick:t.props.deleteTodolist},o.a.createElement(E.a,null)))},t}return a}(o.a.Component),C=a(26),y=a(43),S=a(6),A=a(66),w=a.n(A).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists/",withCredentials:!0,headers:{"API-KEY":"a4868654-1346-4601-9c9f-2bf29679e35a"}}),I={createTodolist:function(t){return w.post("",{title:t})},getTodolist:function(){return w.get("")},deleteTodo:function(t){return w.delete("".concat(t))},updateTodolistTitle:function(t,e){return w.put("".concat(t),{title:e})},getTasks:function(t){return w.get("".concat(t,"/tasks"))},deleteTask:function(t,e){return w.delete("".concat(t,"/tasks/").concat(e))},createTask:function(t,e){return w.post("".concat(t,"/tasks"),{title:e})},changeStatus:function(t,e,a){var n=Object(S.a)(Object(S.a)({},e),{},{status:a});return w.put("".concat(t,"/tasks/").concat(e.id),n)},changeTitle:function(t,e,a){var n=Object(S.a)(Object(S.a)({},e),{},{title:a});return w.put("".concat(t,"/tasks/").concat(e.id),n)}},D="todolist/reducer/ADD_TASK",L={todolists:[]},F=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"todolist/reducer/SET_TODOLIST":return Object(S.a)(Object(S.a)({},e),{},{todolists:a.todolists.map(function(t){return Object(S.a)(Object(S.a)({},t),{},{tasks:[]})})});case"todolist/reducer/SET_TASKS":return Object(S.a)(Object(S.a)({},e),{},{todolists:e.todolists.map(function(t){return t.id!==a.todolistId?t:Object(S.a)(Object(S.a)({},t),{},{tasks:a.tasks})})});case"todolist/reducer/ADD_TODOLIST":return Object(S.a)(Object(S.a)({},e),{},{todolists:[Object(S.a)(Object(S.a)({},a.newTodolist),{},{tasks:[]})].concat(Object(y.a)(e.todolists))});case D:return Object(S.a)(Object(S.a)({},e),{},{todolists:e.todolists.map(function(t){return t.id===a.todolistId?Object(S.a)(Object(S.a)({},t),{},{tasks:[].concat(Object(y.a)(t.tasks),[a.newTask])}):t})});case"todolist/reducer/CHANGE_TODOLIST_TITLE":return Object(S.a)(Object(S.a)({},e),{},{todolists:e.todolists.map(function(t){return t.id===a.todolistId?Object(S.a)(Object(S.a)({},t),{},{title:a.newTitle,tasks:[]}):t})});case"todolist/reducer/CHANGE_TASK":return t=e.todolists.map(function(t){return t.id!==a.todolistId?t:Object(S.a)(Object(S.a)({},t),{},{tasks:Object(y.a)(t.tasks.map(function(t){return t.id!==a.taskId?t:Object(S.a)(Object(S.a)({},t),a.obj)}))})}),Object(S.a)(Object(S.a)({},e),{},{todolists:t});case"todolist/reducer/DELETE_TODOLIST":return Object(S.a)(Object(S.a)({},e),{},{todolists:e.todolists.filter(function(t){return t.id!==a.todolistId})});case"todolist/reducer/DELETE_TASK":return Object(S.a)(Object(S.a)({},e),{},{todolists:e.todolists.map(function(t){return t.id!==a.todolistId?t:Object(S.a)(Object(S.a)({},t),{},{tasks:t.tasks.filter(function(t){return t.id!==a.taskId})})})})}return e},x=function(t,e,a){return{type:"todolist/reducer/CHANGE_TASK",todolistId:t,taskId:e,obj:a}},M=a(145),_=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={filterValue:"All"},t.addTsk=function(e){t.props.addTsk(e,t.props.id)},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeStatus=function(e,a){t.props.changeStatus(t.props.id,e,a)},t.changeTitle=function(e,a){t.props.changeTitle(t.props.id,e,a)},t.deliteTask=function(e){t.props.deletaTask(t.props.id,e)},t.deleteTodolist=function(){t.props.deleteTodo(t.props.id)},t.changeTodolistTitle=function(e){t.props.updateTodolistTitle(t.props.id,e)},t.render=function(){var e=t.props.tasks,a=void 0===e?[]:e;return o.a.createElement(M.a,{item:!0},o.a.createElement(b.a,{elevation:10,style:{padding:"13px",background:"#aeea00"}},o.a.createElement("div",{className:"todoList"},o.a.createElement(j,{changeTodolistTitle:t.changeTodolistTitle,deleteTodolist:t.deleteTodolist,title:t.props.title}),o.a.createElement(h,{addItem:t.addTsk}),o.a.createElement(v,{deliteTask:t.deliteTask,changeTitle:t.changeTitle,changeStatus:t.changeStatus,tasks:a.filter(function(e){switch(t.state.filterValue){case"All":return!0;case"Completed":return 2===e.status;case"Active":return 2!==e.status}})}),o.a.createElement(p,{filterValue:t.state.filterValue,changeFilter:t.changeFilter}))))},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getTasks(this.props.id)}}]),a}(o.a.Component),H=Object(C.b)(null,{deleteTodo:function(t){return function(e){I.deleteTodo(t).then(function(a){0===a.data.resultCode&&e(function(t){return{type:"todolist/reducer/DELETE_TODOLIST",todolistId:t}}(t))})}},updateTodolistTitle:function(t,e){return function(a){I.updateTodolistTitle(t,e).then(function(n){0===n.data.resultCode&&a(function(t,e){return{type:"todolist/reducer/CHANGE_TODOLIST_TITLE",newTitle:e,todolistId:t}}(e,t))})}},getTasks:function(t){return function(e){I.getTasks(t).then(function(a){e({type:"todolist/reducer/SET_TASKS",tasks:a.data.items,todolistId:t})})}},addTsk:function(t,e){return function(a){I.createTask(e,t).then(function(t){var n;0===t.data.resultCode&&a((n=t.data.data.item,{type:D,newTask:n,todolistId:e}))})}},changeStatus:function(t,e,a){return function(n){I.changeStatus(t,e,a).then(function(o){0===o.data.resultCode&&n(x(t,e.id,{status:a}))})}},changeTitle:function(t,e,a){return function(n){I.changeTitle(t,e,a).then(function(o){0===o.data.resultCode&&n(x(t,e.id,{title:a}))})}},deletaTask:function(t,e){return function(a){I.deleteTask(t,e).then(function(n){0===n.data.resultCode&&a(function(t,e){return{type:"todolist/reducer/DELETE_TASK",taskId:t,todolistId:e}}(e,t))})}}})(_),K=a(146),N=a(147),V=a(67),B=a.n(V),G=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).restoreState=function(){t.props.getTodolist()},t.addTodoList=function(e){t.props.addTodolist(e)},t.render=function(){var e=t.props.todolists.map(function(t){return o.a.createElement(H,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})});return o.a.createElement("div",{className:"App"},o.a.createElement(K.a,{position:"static"},o.a.createElement(N.a,{style:{display:"flex",justifyContent:"space-between",background:"#1a746b"}},o.a.createElement(T.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(B.a,null)),o.a.createElement(u.a,{color:"inherit"},"Login"))),o.a.createElement(k.a,{fixed:!0},o.a.createElement(M.a,{container:!0,style:{padding:"20px 0"}},o.a.createElement(b.a,{elevation:5,style:{padding:"10px",background:"#d3ebd3"}},o.a.createElement(h,{addItem:t.addTodoList}))),o.a.createElement(M.a,{container:!0,spacing:4},e)))},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.restoreState()}}]),a}(o.a.Component),P=Object(C.b)(function(t){return{todolists:t.todolist.todolists}},{addTodolist:function(t){return function(e){I.createTodolist(t).then(function(t){0===t.data.resultCode&&e({type:"todolist/reducer/ADD_TODOLIST",newTodolist:t.data.data.item})})}},getTodolist:function(){return function(t){I.getTodolist().then(function(e){t({type:"todolist/reducer/SET_TODOLIST",todolists:e.data})})}}})(G);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(30),W=a(68),q=Object(J.c)({todolist:F}),R=Object(J.d)(q,Object(J.a)(W.a));i.a.render(o.a.createElement(C.a,{store:R},o.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},52:function(t,e,a){},78:function(t,e,a){t.exports=a(108)},83:function(t,e,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.e4e14c14.chunk.js.map